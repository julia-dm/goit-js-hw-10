{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst elements = {\n  dataPicker: document.getElementById('datetime-picker'),\n  startBtn: document.querySelector('button[data-start]'),\n  days: document.querySelector('span[data-days]'),\n  hours: document.querySelector('span[data-hours]'),\n  minutes: document.querySelector('span[data-minutes]'),\n  seconds: document.querySelector('span[data-seconds]'),\n};\nlet selectedDate = null;\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    selectedDate = selectedDates[0];\n    if (selectedDate <= new Date()) {\n      iziToast.error({\n        message: 'Please choose a date in the future',\n        position: 'topRight',\n        //   backgroundColor: 'red',\n        //   messageColor: 'white',\n      });\n    } else {\n      elements.startBtn.disabled = false;\n    }\n  },\n};\n\nflatpickr('#datetime-picker', options);\ndocument.addEventListener('DOMContentLoaded', function () {\n  elements.startBtn.disabled = true;\n});\nelements.startBtn.addEventListener('click', clickBtn);\n\nfunction clickBtn() {\n  if (!selectedDate) {\n    iziToast.error({\n      message: 'Please select a date first',\n      position: 'topRight',\n      icon: '',\n    });\n    return;\n  }\n\n  const interval = setInterval(() => {\n    const defaultDate = new Date();\n    const diffTime = selectedDate - defaultDate;\n\n    if (diffTime <= 0) {\n      clearInterval(interval);\n      elements.days.textContent = '0';\n      elements.hours.textContent = '0';\n      elements.minutes.textContent = '0';\n      elements.seconds.textContent = '0';\n      return;\n    }\n\n    const { days, hours, minutes, seconds } = convertMs(diffTime);\n\n    elements.days.textContent = formating(days);\n    elements.hours.textContent = formating(hours);\n    elements.minutes.textContent = formating(minutes);\n    elements.seconds.textContent = formating(seconds);\n  }, 1000);\n}\nfunction formating(numbers) {\n  return numbers.toString().padStart(2, '0');\n}\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n"],"names":["elements","selectedDate","options","selectedDates","iziToast","flatpickr","clickBtn","interval","diffTime","days","hours","minutes","seconds","convertMs","formating","numbers","ms"],"mappings":"qIAKA,MAAMA,EAAW,CACf,WAAY,SAAS,eAAe,iBAAiB,EACrD,SAAU,SAAS,cAAc,oBAAoB,EACrD,KAAM,SAAS,cAAc,iBAAiB,EAC9C,MAAO,SAAS,cAAc,kBAAkB,EAChD,QAAS,SAAS,cAAc,oBAAoB,EACpD,QAAS,SAAS,cAAc,oBAAoB,CACtD,EACA,IAAIC,EAAe,KAEnB,MAAMC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrBF,EAAeE,EAAc,CAAC,EAC1BF,GAAgB,IAAI,KACtBG,EAAS,MAAM,CACb,QAAS,qCACT,SAAU,UAGlB,CAAO,EAEDJ,EAAS,SAAS,SAAW,EAEhC,CACH,EAEAK,EAAU,mBAAoBH,CAAO,EACrC,SAAS,iBAAiB,mBAAoB,UAAY,CACxDF,EAAS,SAAS,SAAW,EAC/B,CAAC,EACDA,EAAS,SAAS,iBAAiB,QAASM,CAAQ,EAEpD,SAASA,GAAW,CAClB,GAAI,CAACL,EAAc,CACjBG,EAAS,MAAM,CACb,QAAS,6BACT,SAAU,WACV,KAAM,EACZ,CAAK,EACD,MACD,CAED,MAAMG,EAAW,YAAY,IAAM,CAEjC,MAAMC,EAAWP,EADG,IAAI,KAGxB,GAAIO,GAAY,EAAG,CACjB,cAAcD,CAAQ,EACtBP,EAAS,KAAK,YAAc,IAC5BA,EAAS,MAAM,YAAc,IAC7BA,EAAS,QAAQ,YAAc,IAC/BA,EAAS,QAAQ,YAAc,IAC/B,MACD,CAED,KAAM,CAAE,KAAAS,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYC,EAAUL,CAAQ,EAE5DR,EAAS,KAAK,YAAcc,EAAUL,CAAI,EAC1CT,EAAS,MAAM,YAAcc,EAAUJ,CAAK,EAC5CV,EAAS,QAAQ,YAAcc,EAAUH,CAAO,EAChDX,EAAS,QAAQ,YAAcc,EAAUF,CAAO,CACjD,EAAE,GAAI,CACT,CACA,SAASE,EAAUC,EAAS,CAC1B,OAAOA,EAAQ,SAAU,EAAC,SAAS,EAAG,GAAG,CAC3C,CAEA,SAASF,EAAUG,EAAI,CAQrB,MAAMP,EAAO,KAAK,MAAMO,EAAK,KAAG,EAE1BN,EAAQ,KAAK,MAAOM,EAAK,MAAO,IAAI,EAEpCL,EAAU,KAAK,MAAQK,EAAK,MAAO,KAAQ,GAAM,EAEjDJ,EAAU,KAAK,MAASI,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAP,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC"}